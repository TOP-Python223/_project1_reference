                    Архитектура
                     проекта 1

                  Крестики-Нолики


=================== Общий раздел ===================

1. Вид релиза приложения

    Набор файлов с кодом для интерпретатора Python 3.10 и файл с данными



2. Структура файлов приложения

    Модуль верхнего уровня, содержащий управляющий код и импорт дополнительных модулей.

    Дополнительные модули, содержащие функциональный код и работу с модулями/пакетами стандартной библиотеки.

    Текстовые файлы данных, содержащие информацию об игроках и сохранённых играх.



3. Структура хранения данных

    # players.ini

        [Player3]
        wins = 2
        ties = 5
        fails = 1
        training = False

        [Player4]
        wins = 0
        ties = 0
        fails = 0
        training = True

    # saves.ini

        [Player4:Player3]
        turns = 0,2|4

        [Player4:#2]
        turns = 2,5,1|4,8

        [#1:Player3]
        turns = 4|6



4. Работа с данными в приложении

    # структура данных для работы с именами и статистикой игроков

        {'Player3': {'wins': 2, 'ties': 5, 'fails': 1, 'training': False}}

    # структура данных для работы с сохранёнными играми

        {('Player4', 'Player3'): [[1, 0, 3],
                                  [0, 2, 0],
                                  [0, 0, 0]]}

    # структура данных для работы с ходами

        1 вариант
        [' ', 'X', 'X', ' ', 'O', 'X', ' ', ' ', 'O']

        2 вариант
        [[2, 5, 1], [4, 8]]
        {'X': [2, 5, 1], 'O': [4, 8]}

        3 вариант
        [ [' ', 'X', 'X'],
          [' ', 'O', 'X'],
          [' ', ' ', 'O'] ]

        4 вариант
        [ [0, 5, 1],
          [0, 2, 3],
          [0, 0, 4] ]



============= Этапы работы приложения ==============

1. Чтение из .ini файла, анализ и сохранение загруженных данных в переменные

2. ЕСЛИ первый запуск:
        вывод раздела помощи

3. Запрос имени игрока:
    а) ЕСЛИ имя игрока среди зарегистрированных:
            ИСТИНА: добавление игрока к текущим игрокам
            ЛОЖЬ: добавление нового игрока в переменные данных (сохранение в .ini файл) и добавление игрока к текущим игрокам

# Суперцикл

    4. Ожидание ввода команды:

        # game

            5. Запрос режима игры:
                а) ЕСЛИ с ботом:
                        запрос уровня сложности
                            а) ЕСЛИ лёгкий:
                                    установка имени бота "#1"
                            б) ЕСЛИ трудный:
                                    установка имени бота "#2"
                б) ЕСЛИ с человеком:
                        запрос имени второго игрока (пункт 3)

            6. Запрос очерёдности хода (токена)

            # Партия

                7. ЕСЛИ хотя бы у одного из игроков включен режим обучения:
                        включение режима обучения для партии

                8. Цикл раунда:

                    9. Запрос хода игрока соответствующим токеном:
                        а) ЕСЛИ ввод пустой:
                                ИСТИНА: запуск сохранения игры
                                ЛОЖЬ: проверка правильности ввода
                                      ЕСЛИ ввод неверный:
                                           переход к пункту 9

                       ИЛИ Ход бота соответствующим токеном

                    10. Вывод поля с всеми сделанными ходами на текущий момент

                    11. ЕСЛИ пятый и более ход:
                             а) ЕСЛИ выигрыш:
                                     ИСТИНА: переход к пункту 12
                                     ЛОЖЬ: проверка ничьей
                             б) ЕСЛИ ничья:
                                     ИСТИНА: переход к пункту 12
                                     ЛОЖЬ: переход к пункту 9

                12. Обновление статистики игроков (сохранение в .ini файл)

        # load

            13. Проверка наличия сохранённых партий для текущего игрока
                 а) ЕСЛИ партии есть:
                         ИСТИНА: вывести все сохранённые партии для текущего игрока
                         ЛОЖЬ: прервать процесс загрузки партии, вернуться к ожиданию ввода пользовательских команд

            14. Запрос партии для загрузки (из выведенных)

            # Партия (шаги 7—12)

                15. ЕСЛИ партия закончена досрочно:
                         ИСТИНА: сохранение данных о партии
                         ЛОЖЬ: 16. Внесение изменений в статистику игрока(-ов)
                               17. Удаление данных о доигранной сохранённой партии


        # quit

            18. Выход из суперцикла

19. Сохранение всех данных в .ini файлы



